# 图片文本检测和高亮显示工具 - Web 版

这是一个基于 Web 的图片文本检测和高亮显示工具，支持在浏览器中直接使用，无需安装额外软件。

## 功能特点

- ✅ 支持多种语言文本检测（默认支持中文简体和英文）
- ✅ 自动检测图片中的所有文本
- ✅ 高亮显示匹配的目标文本
- ✅ 支持部分匹配和完全匹配
- ✅ 显示检测置信度
- ✅ 可下载处理结果
- ✅ 拖拽上传图片
- ✅ 响应式设计，支持移动端

## 安装依赖

**Windows 系统：**

```bash
python -m pip install -r requirements.txt
```

**Linux/Mac 系统：**

```bash
pip install -r requirements.txt
```

**注意**:

- 如果 `pip` 命令不可用，请使用 `python -m pip` 代替
- EasyOCR 首次运行时会自动下载模型文件，请确保网络连接正常
- 安装过程可能需要几分钟时间，请耐心等待
- 如果遇到安装错误，请确保网络连接正常，或尝试使用国内镜像源

## 使用方法

### 启动 Web 服务器

```bash
python app.py
```

### 访问 Web 界面

启动服务器后，在浏览器中访问：**http://localhost:5000**

### 使用步骤

1. **上传图片**

   - 点击上传区域选择图片，或直接拖拽图片到上传区域
   - 支持格式：jpg, jpeg, png, gif, bmp

2. **高亮显示**

   - 在"目标文本"输入框中输入要查找的文本
   - 选择识别语言（默认：中文简体 + 英文）
   - 点击"查找并高亮"按钮
   - 匹配的文本会被黄色高亮框标记

3. **下载结果**
   - 处理完成后，点击"下载结果"按钮保存高亮后的图片

## 支持的语言

EasyOCR 支持多种语言，常用语言代码：

- `ch_sim`: 中文简体
- `ch_tra`: 中文繁体
- `en`: 英文
- `ja`: 日文
- `ko`: 韩文

更多语言请参考 [EasyOCR 文档](https://github.com/JaidedAI/EasyOCR)

## 界面功能

- 🖼️ **图片上传**：支持点击或拖拽上传
- ✨ **高亮显示**：自动高亮匹配的目标文本
- 💾 **结果下载**：下载处理后的图片
- 🌐 **多语言支持**：可选择不同语言进行 OCR 识别
- 📱 **响应式设计**：支持桌面和移动端访问
- 📊 **统计信息**：显示匹配的文本数量

## 注意事项

1. 首次运行需要下载 OCR 模型文件，可能需要一些时间
2. 图片质量越好，文本检测准确度越高
3. 支持常见图片格式：jpg, png, bmp, gif 等
4. 文本匹配不区分大小写
5. 最大上传文件大小为 16MB
6. 服务器默认运行在 `http://localhost:5000`

## 技术栈

### 后端

- **Flask**: Web 框架
- **OpenCV**: 图片处理和显示
- **EasyOCR**: 文本检测和识别
- **NumPy**: 数值计算

### 前端

- **HTML5/CSS3**: 现代化界面设计
- **JavaScript**: 交互逻辑
- **响应式设计**: 支持移动端访问

## 项目结构

```
position-demo/
├── app.py              # Flask Web服务器
├── templates/
│   └── index.html      # Web前端界面
├── static/             # 静态文件目录
├── uploads/            # 上传文件临时目录（自动创建）
├── results/             # 结果文件目录（自动创建）
├── requirements.txt     # 依赖列表
└── README.md           # 说明文档
```

## 许可证

MIT License
